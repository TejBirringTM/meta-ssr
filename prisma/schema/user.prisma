model User {
  id String @id
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  // properties
  email String
  emailVerified Boolean
  // many-to-many relationship with Project
  projects ProjectUser[]
}

model Project {
  id String @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  // properties
  name String
  descriptionMarkdown String
  // many-to-many relationship with User
  users ProjectUser[]
}

enum UserRoleOnProject {
  OWNER
  EDITOR
  VIEWER
}

model ProjectUser {
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  // many-to-many relationship between User and Project
  userId String
  user User @relation(fields: [userId], references: [id])
  projectId String
  project Project @relation(fields: [projectId], references: [id])
  @@unique([projectId, userId])
  // role of the User on the Project
  role UserRoleOnProject
}

